bb93fcd04d847f632c4bb8d12472f984
"use strict";

// Mock Three.js for unit tests
_getJestObj().mock('three', () => ({
  WebGLRenderer: jest.fn().mockImplementation(() => ({
    setSize: jest.fn(),
    render: jest.fn(),
    dispose: jest.fn()
  })),
  Scene: jest.fn().mockImplementation(() => ({
    add: jest.fn(),
    remove: jest.fn()
  })),
  PerspectiveCamera: jest.fn(),
  Vector3: jest.fn(),
  Mesh: jest.fn(),
  BoxGeometry: jest.fn(),
  MeshBasicMaterial: jest.fn()
}));

// Mock React Three Fiber for SASI tests
_getJestObj().mock('@react-three/fiber', () => ({
  Canvas: ({
    children
  }) => children,
  useFrame: jest.fn(),
  useThree: jest.fn(() => ({
    camera: {},
    scene: {},
    gl: {}
  }))
}));

// Mock WebSocket for real-time tests
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
// Global test setup for SASI/Synaptic-mesh integration
const path = require('path');

// Set global timeout for all tests
jest.setTimeout(60000);

// Global test configuration
global.expect = expect;

// Console colors for better test output
const colors = {
  reset: '\x1b[0m',
  green: '\x1b[32m',
  red: '\x1b[31m',
  yellow: '\x1b[33m',
  blue: '\x1b[34m',
  magenta: '\x1b[35m',
  cyan: '\x1b[36m'
};

// Enhanced console.log for tests
const originalLog = console.log;
console.log = (...args) => {
  if (args[0] && typeof args[0] === 'string' && args[0].startsWith('✅')) {
    originalLog(colors.green + args[0] + colors.reset, ...args.slice(1));
  } else if (args[0] && typeof args[0] === 'string' && args[0].startsWith('❌')) {
    originalLog(colors.red + args[0] + colors.reset, ...args.slice(1));
  } else if (args[0] && typeof args[0] === 'string' && args[0].startsWith('🚀')) {
    originalLog(colors.cyan + args[0] + colors.reset, ...args.slice(1));
  } else {
    originalLog(...args);
  }
};

// Mock WebGL context for browser-based tests
global.WebGLRenderingContext = class MockWebGLRenderingContext {};
global.WebGL2RenderingContext = class MockWebGL2RenderingContext {};
global.WebSocket = class MockWebSocket {
  constructor(url) {
    this.url = url;
    this.readyState = 1; // OPEN
    this.onopen = null;
    this.onmessage = null;
    this.onclose = null;
    this.onerror = null;
  }
  send(data) {
    // Mock send implementation
  }
  close() {
    this.readyState = 3; // CLOSED
    if (this.onclose) this.onclose();
  }
};

// Mock claude-flow hooks (conditional mock)
try {
  _getJestObj().mock('claude-flow', () => ({
    hooks: {
      preTask: jest.fn(),
      postEdit: jest.fn(),
      notification: jest.fn(),
      postTask: jest.fn()
    },
    memory: {
      store: jest.fn(),
      retrieve: jest.fn(),
      list: jest.fn()
    },
    swarm: {
      init: jest.fn(),
      spawn: jest.fn(),
      orchestrate: jest.fn(),
      status: jest.fn()
    }
  }));
} catch (e) {
  // claude-flow not available in this environment
}

// Mock ruv-swarm for integration tests (conditional mock)
try {
  _getJestObj().mock('ruv-swarm', () => ({
    SwarmManager: jest.fn().mockImplementation(() => ({
      init: jest.fn(),
      spawn: jest.fn(),
      orchestrate: jest.fn(),
      status: jest.fn(),
      destroy: jest.fn()
    })),
    Agent: jest.fn().mockImplementation(() => ({
      execute: jest.fn(),
      coordinate: jest.fn(),
      learn: jest.fn()
    }))
  }));
} catch (e) {
  // ruv-swarm not available in this environment
}

// Mock WASM modules (conditional mock)
try {
  _getJestObj().mock('../../synaptic-mesh/src/rs/neural-mesh/pkg', () => ({
    init: jest.fn(),
    NeuralMesh: jest.fn().mockImplementation(() => ({
      process: jest.fn(),
      train: jest.fn(),
      predict: jest.fn()
    }))
  }));
} catch (e) {
  // WASM module not available in this environment
}

// Mock crypto for DAA tests
Object.defineProperty(global, 'crypto', {
  value: {
    getRandomValues: jest.fn(arr => {
      for (let i = 0; i < arr.length; i++) {
        arr[i] = Math.floor(Math.random() * 256);
      }
      return arr;
    }),
    subtle: {
      digest: jest.fn(() => Promise.resolve(new ArrayBuffer(32)))
    }
  }
});

// Mock performance API
global.performance = {
  now: jest.fn(() => Date.now()),
  mark: jest.fn(),
  measure: jest.fn(),
  getEntriesByName: jest.fn(() => []),
  getEntriesByType: jest.fn(() => [])
};

// Mock fetch for API tests
global.fetch = jest.fn(() => Promise.resolve({
  ok: true,
  json: () => Promise.resolve({
    success: true
  }),
  text: () => Promise.resolve('mock response')
}));

// Mock localStorage
global.localStorage = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};

// Mock sessionStorage
global.sessionStorage = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};

// Test utilities
global.testUtils = {
  waitFor: async (condition, timeout = 5000) => {
    const start = Date.now();
    while (Date.now() - start < timeout) {
      if (await condition()) return;
      await new Promise(resolve => setTimeout(resolve, 100));
    }
    throw new Error(`Condition not met within ${timeout}ms`);
  },
  mockAgent: (type = 'default') => ({
    id: `mock-agent-${Math.random().toString(36).substr(2, 9)}`,
    type,
    status: 'active',
    execute: jest.fn(),
    coordinate: jest.fn(),
    learn: jest.fn()
  }),
  mockSwarm: (agentCount = 3) => ({
    id: `mock-swarm-${Math.random().toString(36).substr(2, 9)}`,
    agents: Array.from({
      length: agentCount
    }, (_, i) => global.testUtils.mockAgent(`agent-${i}`)),
    status: 'active',
    topology: 'mesh'
  }),
  createMockWebGLContext: () => ({
    canvas: document.createElement('canvas'),
    drawingBufferWidth: 800,
    drawingBufferHeight: 600,
    getParameter: jest.fn(),
    getExtension: jest.fn(),
    createShader: jest.fn(),
    createProgram: jest.fn(),
    useProgram: jest.fn(),
    clear: jest.fn(),
    drawArrays: jest.fn()
  })
};

// Custom matchers
expect.extend({
  toBeValidAgent(received) {
    const pass = received && typeof received.id === 'string' && typeof received.type === 'string' && typeof received.execute === 'function';
    return {
      pass,
      message: () => pass ? `Expected ${received} not to be a valid agent` : `Expected ${received} to be a valid agent with id, type, and execute method`
    };
  },
  toBeValidSwarm(received) {
    const pass = received && typeof received.id === 'string' && Array.isArray(received.agents) && typeof received.status === 'string';
    return {
      pass,
      message: () => pass ? `Expected ${received} not to be a valid swarm` : `Expected ${received} to be a valid swarm with id, agents array, and status`
    };
  }
});

// Error handling
process.on('unhandledRejection', (reason, promise) => {
  console.error('Unhandled Rejection at:', promise, 'reason:', reason);
});

// Cleanup function
afterEach(() => {
  jest.clearAllMocks();
});
console.log('🧪 Test setup complete - SASI/Synaptic-mesh integration testing environment ready');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJXZWJHTFJlbmRlcmVyIiwiamVzdCIsImZuIiwibW9ja0ltcGxlbWVudGF0aW9uIiwic2V0U2l6ZSIsInJlbmRlciIsImRpc3Bvc2UiLCJTY2VuZSIsImFkZCIsInJlbW92ZSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiVmVjdG9yMyIsIk1lc2giLCJCb3hHZW9tZXRyeSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiQ2FudmFzIiwiY2hpbGRyZW4iLCJ1c2VGcmFtZSIsInVzZVRocmVlIiwiY2FtZXJhIiwic2NlbmUiLCJnbCIsInJlcXVpcmUiLCJwYXRoIiwic2V0VGltZW91dCIsImdsb2JhbCIsImV4cGVjdCIsImNvbG9ycyIsInJlc2V0IiwiZ3JlZW4iLCJyZWQiLCJ5ZWxsb3ciLCJibHVlIiwibWFnZW50YSIsImN5YW4iLCJvcmlnaW5hbExvZyIsImNvbnNvbGUiLCJsb2ciLCJhcmdzIiwic3RhcnRzV2l0aCIsInNsaWNlIiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiTW9ja1dlYkdMUmVuZGVyaW5nQ29udGV4dCIsIldlYkdMMlJlbmRlcmluZ0NvbnRleHQiLCJNb2NrV2ViR0wyUmVuZGVyaW5nQ29udGV4dCIsIldlYlNvY2tldCIsIk1vY2tXZWJTb2NrZXQiLCJjb25zdHJ1Y3RvciIsInVybCIsInJlYWR5U3RhdGUiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJvbmNsb3NlIiwib25lcnJvciIsInNlbmQiLCJkYXRhIiwiY2xvc2UiLCJob29rcyIsInByZVRhc2siLCJwb3N0RWRpdCIsIm5vdGlmaWNhdGlvbiIsInBvc3RUYXNrIiwibWVtb3J5Iiwic3RvcmUiLCJyZXRyaWV2ZSIsImxpc3QiLCJzd2FybSIsImluaXQiLCJzcGF3biIsIm9yY2hlc3RyYXRlIiwic3RhdHVzIiwiZSIsIlN3YXJtTWFuYWdlciIsImRlc3Ryb3kiLCJBZ2VudCIsImV4ZWN1dGUiLCJjb29yZGluYXRlIiwibGVhcm4iLCJOZXVyYWxNZXNoIiwicHJvY2VzcyIsInRyYWluIiwicHJlZGljdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJnZXRSYW5kb21WYWx1ZXMiLCJhcnIiLCJpIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3VidGxlIiwiZGlnZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJBcnJheUJ1ZmZlciIsInBlcmZvcm1hbmNlIiwibm93IiwiRGF0ZSIsIm1hcmsiLCJtZWFzdXJlIiwiZ2V0RW50cmllc0J5TmFtZSIsImdldEVudHJpZXNCeVR5cGUiLCJmZXRjaCIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJ0ZXh0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJzZXNzaW9uU3RvcmFnZSIsInRlc3RVdGlscyIsIndhaXRGb3IiLCJjb25kaXRpb24iLCJ0aW1lb3V0Iiwic3RhcnQiLCJFcnJvciIsIm1vY2tBZ2VudCIsInR5cGUiLCJpZCIsInRvU3RyaW5nIiwic3Vic3RyIiwibW9ja1N3YXJtIiwiYWdlbnRDb3VudCIsImFnZW50cyIsIkFycmF5IiwiZnJvbSIsIl8iLCJ0b3BvbG9neSIsImNyZWF0ZU1vY2tXZWJHTENvbnRleHQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkcmF3aW5nQnVmZmVyV2lkdGgiLCJkcmF3aW5nQnVmZmVySGVpZ2h0IiwiZ2V0UGFyYW1ldGVyIiwiZ2V0RXh0ZW5zaW9uIiwiY3JlYXRlU2hhZGVyIiwiY3JlYXRlUHJvZ3JhbSIsInVzZVByb2dyYW0iLCJkcmF3QXJyYXlzIiwiZXh0ZW5kIiwidG9CZVZhbGlkQWdlbnQiLCJyZWNlaXZlZCIsInBhc3MiLCJtZXNzYWdlIiwidG9CZVZhbGlkU3dhcm0iLCJpc0FycmF5Iiwib24iLCJyZWFzb24iLCJwcm9taXNlIiwiZXJyb3IiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIl0sInNvdXJjZXMiOlsic2V0dXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR2xvYmFsIHRlc3Qgc2V0dXAgZm9yIFNBU0kvU3luYXB0aWMtbWVzaCBpbnRlZ3JhdGlvblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLy8gU2V0IGdsb2JhbCB0aW1lb3V0IGZvciBhbGwgdGVzdHNcbmplc3Quc2V0VGltZW91dCg2MDAwMCk7XG5cbi8vIEdsb2JhbCB0ZXN0IGNvbmZpZ3VyYXRpb25cbmdsb2JhbC5leHBlY3QgPSBleHBlY3Q7XG5cbi8vIENvbnNvbGUgY29sb3JzIGZvciBiZXR0ZXIgdGVzdCBvdXRwdXRcbmNvbnN0IGNvbG9ycyA9IHtcbiAgcmVzZXQ6ICdcXHgxYlswbScsXG4gIGdyZWVuOiAnXFx4MWJbMzJtJyxcbiAgcmVkOiAnXFx4MWJbMzFtJyxcbiAgeWVsbG93OiAnXFx4MWJbMzNtJyxcbiAgYmx1ZTogJ1xceDFiWzM0bScsXG4gIG1hZ2VudGE6ICdcXHgxYlszNW0nLFxuICBjeWFuOiAnXFx4MWJbMzZtJ1xufTtcblxuLy8gRW5oYW5jZWQgY29uc29sZS5sb2cgZm9yIHRlc3RzXG5jb25zdCBvcmlnaW5hbExvZyA9IGNvbnNvbGUubG9nO1xuY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4ge1xuICBpZiAoYXJnc1swXSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycgJiYgYXJnc1swXS5zdGFydHNXaXRoKCfinIUnKSkge1xuICAgIG9yaWdpbmFsTG9nKGNvbG9ycy5ncmVlbiArIGFyZ3NbMF0gKyBjb2xvcnMucmVzZXQsIC4uLmFyZ3Muc2xpY2UoMSkpO1xuICB9IGVsc2UgaWYgKGFyZ3NbMF0gJiYgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnICYmIGFyZ3NbMF0uc3RhcnRzV2l0aCgn4p2MJykpIHtcbiAgICBvcmlnaW5hbExvZyhjb2xvcnMucmVkICsgYXJnc1swXSArIGNvbG9ycy5yZXNldCwgLi4uYXJncy5zbGljZSgxKSk7XG4gIH0gZWxzZSBpZiAoYXJnc1swXSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycgJiYgYXJnc1swXS5zdGFydHNXaXRoKCfwn5qAJykpIHtcbiAgICBvcmlnaW5hbExvZyhjb2xvcnMuY3lhbiArIGFyZ3NbMF0gKyBjb2xvcnMucmVzZXQsIC4uLmFyZ3Muc2xpY2UoMSkpO1xuICB9IGVsc2Uge1xuICAgIG9yaWdpbmFsTG9nKC4uLmFyZ3MpO1xuICB9XG59O1xuXG4vLyBNb2NrIFdlYkdMIGNvbnRleHQgZm9yIGJyb3dzZXItYmFzZWQgdGVzdHNcbmdsb2JhbC5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPSBjbGFzcyBNb2NrV2ViR0xSZW5kZXJpbmdDb250ZXh0IHt9O1xuZ2xvYmFsLldlYkdMMlJlbmRlcmluZ0NvbnRleHQgPSBjbGFzcyBNb2NrV2ViR0wyUmVuZGVyaW5nQ29udGV4dCB7fTtcblxuLy8gTW9jayBUaHJlZS5qcyBmb3IgdW5pdCB0ZXN0c1xuamVzdC5tb2NrKCd0aHJlZScsICgpID0+ICh7XG4gIFdlYkdMUmVuZGVyZXI6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICBzZXRTaXplOiBqZXN0LmZuKCksXG4gICAgcmVuZGVyOiBqZXN0LmZuKCksXG4gICAgZGlzcG9zZTogamVzdC5mbigpXG4gIH0pKSxcbiAgU2NlbmU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICBhZGQ6IGplc3QuZm4oKSxcbiAgICByZW1vdmU6IGplc3QuZm4oKVxuICB9KSksXG4gIFBlcnNwZWN0aXZlQ2FtZXJhOiBqZXN0LmZuKCksXG4gIFZlY3RvcjM6IGplc3QuZm4oKSxcbiAgTWVzaDogamVzdC5mbigpLFxuICBCb3hHZW9tZXRyeTogamVzdC5mbigpLFxuICBNZXNoQmFzaWNNYXRlcmlhbDogamVzdC5mbigpXG59KSk7XG5cbi8vIE1vY2sgUmVhY3QgVGhyZWUgRmliZXIgZm9yIFNBU0kgdGVzdHNcbmplc3QubW9jaygnQHJlYWN0LXRocmVlL2ZpYmVyJywgKCkgPT4gKHtcbiAgQ2FudmFzOiAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbixcbiAgdXNlRnJhbWU6IGplc3QuZm4oKSxcbiAgdXNlVGhyZWU6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBjYW1lcmE6IHt9LFxuICAgIHNjZW5lOiB7fSxcbiAgICBnbDoge31cbiAgfSkpXG59KSk7XG5cbi8vIE1vY2sgV2ViU29ja2V0IGZvciByZWFsLXRpbWUgdGVzdHNcbmdsb2JhbC5XZWJTb2NrZXQgPSBjbGFzcyBNb2NrV2ViU29ja2V0IHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gMTsgLy8gT1BFTlxuICAgIHRoaXMub25vcGVuID0gbnVsbDtcbiAgICB0aGlzLm9ubWVzc2FnZSA9IG51bGw7XG4gICAgdGhpcy5vbmNsb3NlID0gbnVsbDtcbiAgICB0aGlzLm9uZXJyb3IgPSBudWxsO1xuICB9XG4gIFxuICBzZW5kKGRhdGEpIHtcbiAgICAvLyBNb2NrIHNlbmQgaW1wbGVtZW50YXRpb25cbiAgfVxuICBcbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gMzsgLy8gQ0xPU0VEXG4gICAgaWYgKHRoaXMub25jbG9zZSkgdGhpcy5vbmNsb3NlKCk7XG4gIH1cbn07XG5cbi8vIE1vY2sgY2xhdWRlLWZsb3cgaG9va3MgKGNvbmRpdGlvbmFsIG1vY2spXG50cnkge1xuICBqZXN0Lm1vY2soJ2NsYXVkZS1mbG93JywgKCkgPT4gKHtcbiAgICBob29rczoge1xuICAgICAgcHJlVGFzazogamVzdC5mbigpLFxuICAgICAgcG9zdEVkaXQ6IGplc3QuZm4oKSxcbiAgICAgIG5vdGlmaWNhdGlvbjogamVzdC5mbigpLFxuICAgICAgcG9zdFRhc2s6IGplc3QuZm4oKVxuICAgIH0sXG4gICAgbWVtb3J5OiB7XG4gICAgICBzdG9yZTogamVzdC5mbigpLFxuICAgICAgcmV0cmlldmU6IGplc3QuZm4oKSxcbiAgICAgIGxpc3Q6IGplc3QuZm4oKVxuICAgIH0sXG4gICAgc3dhcm06IHtcbiAgICAgIGluaXQ6IGplc3QuZm4oKSxcbiAgICAgIHNwYXduOiBqZXN0LmZuKCksXG4gICAgICBvcmNoZXN0cmF0ZTogamVzdC5mbigpLFxuICAgICAgc3RhdHVzOiBqZXN0LmZuKClcbiAgICB9XG4gIH0pKTtcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gY2xhdWRlLWZsb3cgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XG59XG5cbi8vIE1vY2sgcnV2LXN3YXJtIGZvciBpbnRlZ3JhdGlvbiB0ZXN0cyAoY29uZGl0aW9uYWwgbW9jaylcbnRyeSB7XG4gIGplc3QubW9jaygncnV2LXN3YXJtJywgKCkgPT4gKHtcbiAgICBTd2FybU1hbmFnZXI6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIGluaXQ6IGplc3QuZm4oKSxcbiAgICAgIHNwYXduOiBqZXN0LmZuKCksXG4gICAgICBvcmNoZXN0cmF0ZTogamVzdC5mbigpLFxuICAgICAgc3RhdHVzOiBqZXN0LmZuKCksXG4gICAgICBkZXN0cm95OiBqZXN0LmZuKClcbiAgICB9KSksXG4gICAgQWdlbnQ6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgICAgIGV4ZWN1dGU6IGplc3QuZm4oKSxcbiAgICAgIGNvb3JkaW5hdGU6IGplc3QuZm4oKSxcbiAgICAgIGxlYXJuOiBqZXN0LmZuKClcbiAgICB9KSlcbiAgfSkpO1xufSBjYXRjaCAoZSkge1xuICAvLyBydXYtc3dhcm0gbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XG59XG5cbi8vIE1vY2sgV0FTTSBtb2R1bGVzIChjb25kaXRpb25hbCBtb2NrKVxudHJ5IHtcbiAgamVzdC5tb2NrKCcuLi8uLi9zeW5hcHRpYy1tZXNoL3NyYy9ycy9uZXVyYWwtbWVzaC9wa2cnLCAoKSA9PiAoe1xuICAgIGluaXQ6IGplc3QuZm4oKSxcbiAgICBOZXVyYWxNZXNoOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBwcm9jZXNzOiBqZXN0LmZuKCksXG4gICAgICB0cmFpbjogamVzdC5mbigpLFxuICAgICAgcHJlZGljdDogamVzdC5mbigpXG4gICAgfSkpXG4gIH0pKTtcbn0gY2F0Y2ggKGUpIHtcbiAgLy8gV0FTTSBtb2R1bGUgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XG59XG5cbi8vIE1vY2sgY3J5cHRvIGZvciBEQUEgdGVzdHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdjcnlwdG8nLCB7XG4gIHZhbHVlOiB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzOiBqZXN0LmZuKChhcnIpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pLFxuICAgIHN1YnRsZToge1xuICAgICAgZGlnZXN0OiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZShuZXcgQXJyYXlCdWZmZXIoMzIpKSlcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBNb2NrIHBlcmZvcm1hbmNlIEFQSVxuZ2xvYmFsLnBlcmZvcm1hbmNlID0ge1xuICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG4gIG1hcms6IGplc3QuZm4oKSxcbiAgbWVhc3VyZTogamVzdC5mbigpLFxuICBnZXRFbnRyaWVzQnlOYW1lOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgZ2V0RW50cmllc0J5VHlwZTogamVzdC5mbigoKSA9PiBbXSlcbn07XG5cbi8vIE1vY2sgZmV0Y2ggZm9yIEFQSSB0ZXN0c1xuZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PlxuICBQcm9taXNlLnJlc29sdmUoe1xuICAgIG9rOiB0cnVlLFxuICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgdGV4dDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCdtb2NrIHJlc3BvbnNlJylcbiAgfSlcbik7XG5cbi8vIE1vY2sgbG9jYWxTdG9yYWdlXG5nbG9iYWwubG9jYWxTdG9yYWdlID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpXG59O1xuXG4vLyBNb2NrIHNlc3Npb25TdG9yYWdlXG5nbG9iYWwuc2Vzc2lvblN0b3JhZ2UgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKClcbn07XG5cbi8vIFRlc3QgdXRpbGl0aWVzXG5nbG9iYWwudGVzdFV0aWxzID0ge1xuICB3YWl0Rm9yOiBhc3luYyAoY29uZGl0aW9uLCB0aW1lb3V0ID0gNTAwMCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB3aGlsZSAoRGF0ZS5ub3coKSAtIHN0YXJ0IDwgdGltZW91dCkge1xuICAgICAgaWYgKGF3YWl0IGNvbmRpdGlvbigpKSByZXR1cm47XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgQ29uZGl0aW9uIG5vdCBtZXQgd2l0aGluICR7dGltZW91dH1tc2ApO1xuICB9LFxuICBcbiAgbW9ja0FnZW50OiAodHlwZSA9ICdkZWZhdWx0JykgPT4gKHtcbiAgICBpZDogYG1vY2stYWdlbnQtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICB0eXBlLFxuICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgZXhlY3V0ZTogamVzdC5mbigpLFxuICAgIGNvb3JkaW5hdGU6IGplc3QuZm4oKSxcbiAgICBsZWFybjogamVzdC5mbigpXG4gIH0pLFxuICBcbiAgbW9ja1N3YXJtOiAoYWdlbnRDb3VudCA9IDMpID0+ICh7XG4gICAgaWQ6IGBtb2NrLXN3YXJtLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgYWdlbnRzOiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBhZ2VudENvdW50IH0sIChfLCBpKSA9PiBcbiAgICAgIGdsb2JhbC50ZXN0VXRpbHMubW9ja0FnZW50KGBhZ2VudC0ke2l9YClcbiAgICApLFxuICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgdG9wb2xvZ3k6ICdtZXNoJ1xuICB9KSxcbiAgXG4gIGNyZWF0ZU1vY2tXZWJHTENvbnRleHQ6ICgpID0+ICh7XG4gICAgY2FudmFzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcbiAgICBkcmF3aW5nQnVmZmVyV2lkdGg6IDgwMCxcbiAgICBkcmF3aW5nQnVmZmVySGVpZ2h0OiA2MDAsXG4gICAgZ2V0UGFyYW1ldGVyOiBqZXN0LmZuKCksXG4gICAgZ2V0RXh0ZW5zaW9uOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlU2hhZGVyOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlUHJvZ3JhbTogamVzdC5mbigpLFxuICAgIHVzZVByb2dyYW06IGplc3QuZm4oKSxcbiAgICBjbGVhcjogamVzdC5mbigpLFxuICAgIGRyYXdBcnJheXM6IGplc3QuZm4oKVxuICB9KVxufTtcblxuLy8gQ3VzdG9tIG1hdGNoZXJzXG5leHBlY3QuZXh0ZW5kKHtcbiAgdG9CZVZhbGlkQWdlbnQocmVjZWl2ZWQpIHtcbiAgICBjb25zdCBwYXNzID0gcmVjZWl2ZWQgJiYgXG4gICAgICB0eXBlb2YgcmVjZWl2ZWQuaWQgPT09ICdzdHJpbmcnICYmXG4gICAgICB0eXBlb2YgcmVjZWl2ZWQudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiByZWNlaXZlZC5leGVjdXRlID09PSAnZnVuY3Rpb24nO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBwYXNzLFxuICAgICAgbWVzc2FnZTogKCkgPT4gcGFzcyBcbiAgICAgICAgPyBgRXhwZWN0ZWQgJHtyZWNlaXZlZH0gbm90IHRvIGJlIGEgdmFsaWQgYWdlbnRgXG4gICAgICAgIDogYEV4cGVjdGVkICR7cmVjZWl2ZWR9IHRvIGJlIGEgdmFsaWQgYWdlbnQgd2l0aCBpZCwgdHlwZSwgYW5kIGV4ZWN1dGUgbWV0aG9kYFxuICAgIH07XG4gIH0sXG4gIFxuICB0b0JlVmFsaWRTd2FybShyZWNlaXZlZCkge1xuICAgIGNvbnN0IHBhc3MgPSByZWNlaXZlZCAmJlxuICAgICAgdHlwZW9mIHJlY2VpdmVkLmlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgQXJyYXkuaXNBcnJheShyZWNlaXZlZC5hZ2VudHMpICYmXG4gICAgICB0eXBlb2YgcmVjZWl2ZWQuc3RhdHVzID09PSAnc3RyaW5nJztcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcGFzcyxcbiAgICAgIG1lc3NhZ2U6ICgpID0+IHBhc3NcbiAgICAgICAgPyBgRXhwZWN0ZWQgJHtyZWNlaXZlZH0gbm90IHRvIGJlIGEgdmFsaWQgc3dhcm1gXG4gICAgICAgIDogYEV4cGVjdGVkICR7cmVjZWl2ZWR9IHRvIGJlIGEgdmFsaWQgc3dhcm0gd2l0aCBpZCwgYWdlbnRzIGFycmF5LCBhbmQgc3RhdHVzYFxuICAgIH07XG4gIH1cbn0pO1xuXG4vLyBFcnJvciBoYW5kbGluZ1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgUmVqZWN0aW9uIGF0OicsIHByb21pc2UsICdyZWFzb246JywgcmVhc29uKTtcbn0pO1xuXG4vLyBDbGVhbnVwIGZ1bmN0aW9uXG5hZnRlckVhY2goKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbn0pO1xuXG5jb25zb2xlLmxvZygn8J+nqiBUZXN0IHNldHVwIGNvbXBsZXRlIC0gU0FTSS9TeW5hcHRpYy1tZXNo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