fcfee9ece29e2e8317e3afb46cb24212
"use strict";
/**
 * Comprehensive Unit Tests for WasmBridge
 * Target: 95%+ coverage for WASM operations and SIMD acceleration
 */
Object.defineProperty(exports, "__esModule", { value: true });
const WasmBridge_1 = require("../../../src/utils/WasmBridge");
// Mock WebAssembly for testing
const mockMemory = {
    buffer: new ArrayBuffer(1024 * 1024) // 1MB
};
const mockWasmModule = {
    memory: mockMemory,
    calculate_neural_activation: jest.fn(),
    optimize_connections: jest.fn(),
    process_spike_train: jest.fn(() => 42.5),
    calculate_mesh_efficiency: jest.fn(() => 0.85),
    simd_supported: jest.fn(() => 1),
    get_memory_usage: jest.fn(() => 1024 * 1024)
};
global.WebAssembly = {
    Memory: jest.fn(() => mockMemory),
    compile: jest.fn().mockResolvedValue({}),
    instantiate: jest.fn().mockResolvedValue({ instance: mockWasmModule }),
    validate: jest.fn(() => true)
};
// Mock performance
global.performance = {
    now: jest.fn(() => Date.now())
};
describe('WasmBridge - Comprehensive Unit Tests', () => {
    let wasmBridge;
    beforeEach(() => {
        jest.clearAllMocks();
        wasmBridge = new WasmBridge_1.WasmBridge();
    });
    afterEach(() => {
        if (wasmBridge) {
            wasmBridge.cleanup();
        }
    });
    describe('Initialization', () => {
        test('should initialize successfully with WebAssembly support', async () => {
            const result = await wasmBridge.initialize();
            expect(result).toBe(true);
            expect(wasmBridge.isWasmInitialized()).toBe(true);
        });
        test('should detect SIMD support correctly', async () => {
            await wasmBridge.initialize();
            expect(wasmBridge.isSIMDSupported()).toBe(true);
        });
        test('should handle missing WebAssembly support', async () => {
            const originalWebAssembly = global.WebAssembly;
            delete global.WebAssembly;
            const result = await wasmBridge.initialize();
            expect(result).toBe(false);
            expect(wasmBridge.isWasmInitialized()).toBe(false);
            // Restore WebAssembly
            global.WebAssembly = originalWebAssembly;
        });
        test('should handle WASM compilation errors', async () => {
            const originalCompile = global.WebAssembly.compile;
            global.WebAssembly.compile = jest.fn().mockRejectedValue(new Error('Compilation failed'));
            const result = await wasmBridge.initialize();
            expect(result).toBe(false);
            // Restore original
            global.WebAssembly.compile = originalCompile;
        });
        test('should detect SIMD support failure', async () => {
            const originalValidate = global.WebAssembly.validate;
            global.WebAssembly.validate = jest.fn(() => false);
            await wasmBridge.initialize();
            expect(wasmBridge.isSIMDSupported()).toBe(false);
            // Restore original
            global.WebAssembly.validate = originalValidate;
        });
    });
    describe('Neural Activation Calculation', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should calculate neural activation successfully', () => {
            const inputs = new Float32Array([0.1, 0.5, 0.9, -0.2, 0.7]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeInstanceOf(Float32Array);
            expect(outputs.length).toBe(inputs.length);
            expect(mockWasmModule.calculate_neural_activation).toHaveBeenCalled();
        });
        test('should handle empty input array', () => {
            const inputs = new Float32Array([]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeInstanceOf(Float32Array);
            expect(outputs.length).toBe(0);
        });
        test('should handle large input arrays', () => {
            const largeInputs = new Float32Array(10000);
            for (let i = 0; i < largeInputs.length; i++) {
                largeInputs[i] = Math.random() * 2 - 1; // Range [-1, 1]
            }
            const outputs = wasmBridge.calculateNeuralActivation(largeInputs);
            expect(outputs).toBeInstanceOf(Float32Array);
            expect(outputs.length).toBe(largeInputs.length);
        });
        test('should update performance metrics', () => {
            const inputs = new Float32Array([0.1, 0.2, 0.3]);
            wasmBridge.calculateNeuralActivation(inputs);
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBeGreaterThanOrEqual(0);
            expect(metrics.throughput).toBeGreaterThanOrEqual(0);
            expect(metrics.efficiency).toBeGreaterThan(0);
        });
        test('should throw error when not initialized', () => {
            const uninitializedBridge = new WasmBridge_1.WasmBridge();
            const inputs = new Float32Array([0.1, 0.2]);
            expect(() => uninitializedBridge.calculateNeuralActivation(inputs))
                .toThrow('WASM module not initialized');
        });
    });
    describe('Connection Optimization', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should optimize connections successfully', () => {
            const connections = new Float32Array([0.1, 0.5, 0.8, 0.2, 0.9]);
            const optimized = wasmBridge.optimizeConnections(connections);
            expect(optimized).toBeInstanceOf(Float32Array);
            expect(optimized.length).toBe(connections.length);
            expect(mockWasmModule.optimize_connections).toHaveBeenCalled();
        });
        test('should handle single connection', () => {
            const connections = new Float32Array([0.5]);
            const optimized = wasmBridge.optimizeConnections(connections);
            expect(optimized).toBeInstanceOf(Float32Array);
            expect(optimized.length).toBe(1);
        });
        test('should handle empty connections array', () => {
            const connections = new Float32Array([]);
            const optimized = wasmBridge.optimizeConnections(connections);
            expect(optimized).toBeInstanceOf(Float32Array);
            expect(optimized.length).toBe(0);
        });
        test('should update performance metrics during optimization', () => {
            const connections = new Float32Array([0.1, 0.2, 0.3, 0.4, 0.5]);
            wasmBridge.optimizeConnections(connections);
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBeGreaterThanOrEqual(0);
            expect(metrics.throughput).toBeGreaterThanOrEqual(0);
        });
        test('should throw error when not initialized', () => {
            const uninitializedBridge = new WasmBridge_1.WasmBridge();
            const connections = new Float32Array([0.1, 0.2]);
            expect(() => uninitializedBridge.optimizeConnections(connections))
                .toThrow('WASM module not initialized');
        });
    });
    describe('Spike Train Processing', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should process spike train data successfully', () => {
            const spikes = new Float32Array([0.0, 0.2, 0.8, 0.0, 1.0, 0.3, 0.0, 0.9]);
            const windowSize = 1000; // 1 second window
            const spikeRate = wasmBridge.processSpikeTrainData(spikes, windowSize);
            expect(typeof spikeRate).toBe('number');
            expect(spikeRate).toBe(42.5); // Mocked return value
            expect(mockWasmModule.process_spike_train).toHaveBeenCalledWith(spikes.length, expect.any(Number), spikes.length, windowSize);
        });
        test('should handle empty spike data', () => {
            const spikes = new Float32Array([]);
            const windowSize = 1000;
            const spikeRate = wasmBridge.processSpikeTrainData(spikes, windowSize);
            expect(typeof spikeRate).toBe('number');
            expect(spikeRate).toBe(42.5);
        });
        test('should handle different window sizes', () => {
            const spikes = new Float32Array([0.1, 0.5, 0.9]);
            const rates = [100, 500, 1000, 2000].map(windowSize => wasmBridge.processSpikeTrainData(spikes, windowSize));
            rates.forEach(rate => {
                expect(typeof rate).toBe('number');
                expect(rate).toBe(42.5);
            });
        });
        test('should update performance metrics', () => {
            const spikes = new Float32Array([0.1, 0.2, 0.3]);
            wasmBridge.processSpikeTrainData(spikes, 1000);
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBeGreaterThanOrEqual(0);
        });
        test('should throw error when not initialized', () => {
            const uninitializedBridge = new WasmBridge_1.WasmBridge();
            const spikes = new Float32Array([0.1, 0.2]);
            expect(() => uninitializedBridge.processSpikeTrainData(spikes, 1000))
                .toThrow('WASM module not initialized');
        });
    });
    describe('Mesh Efficiency Calculation', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should calculate mesh efficiency successfully', () => {
            const neurons = new Float32Array([0.1, 0.5, 0.8, 0.2]);
            const synapses = new Float32Array([0.3, 0.7, 0.4, 0.9, 0.1, 0.6]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            expect(typeof efficiency).toBe('number');
            expect(efficiency).toBe(0.85); // Mocked return value
            expect(mockWasmModule.calculate_mesh_efficiency).toHaveBeenCalledWith(neurons.length, expect.any(Number), synapses.length, expect.any(Number));
        });
        test('should handle single neuron and synapse', () => {
            const neurons = new Float32Array([0.5]);
            const synapses = new Float32Array([0.7]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            expect(typeof efficiency).toBe('number');
            expect(efficiency).toBe(0.85);
        });
        test('should handle empty arrays', () => {
            const neurons = new Float32Array([]);
            const synapses = new Float32Array([]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            expect(typeof efficiency).toBe('number');
            expect(efficiency).toBe(0.85);
        });
        test('should handle mismatched array sizes', () => {
            const neurons = new Float32Array([0.1, 0.2]);
            const synapses = new Float32Array([0.3, 0.4, 0.5, 0.6, 0.7]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            expect(typeof efficiency).toBe('number');
            expect(efficiency).toBe(0.85);
        });
        test('should update performance metrics', () => {
            const neurons = new Float32Array([0.1, 0.2]);
            const synapses = new Float32Array([0.3, 0.4]);
            wasmBridge.calculateMeshEfficiency(neurons, synapses);
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBeGreaterThanOrEqual(0);
        });
        test('should throw error when not initialized', () => {
            const uninitializedBridge = new WasmBridge_1.WasmBridge();
            const neurons = new Float32Array([0.1]);
            const synapses = new Float32Array([0.2]);
            expect(() => uninitializedBridge.calculateMeshEfficiency(neurons, synapses))
                .toThrow('WASM module not initialized');
        });
    });
    describe('Performance Metrics', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should provide initial performance metrics', () => {
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics).toBeDefined();
            expect(typeof metrics.executionTime).toBe('number');
            expect(typeof metrics.memoryUsage).toBe('number');
            expect(typeof metrics.simdAcceleration).toBe('boolean');
            expect(typeof metrics.throughput).toBe('number');
            expect(typeof metrics.efficiency).toBe('number');
        });
        test('should update memory usage from WASM module', () => {
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.memoryUsage).toBe(1024 * 1024); // Mocked value
            expect(mockWasmModule.get_memory_usage).toHaveBeenCalled();
        });
        test('should track SIMD acceleration status', () => {
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.simdAcceleration).toBe(true); // Based on initialization
        });
        test('should track execution time across operations', () => {
            const inputs = new Float32Array([0.1, 0.2, 0.3]);
            wasmBridge.calculateNeuralActivation(inputs);
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBeGreaterThanOrEqual(0);
        });
    });
    describe('Status Checks', () => {
        test('should report uninitialized state correctly', () => {
            expect(wasmBridge.isWasmInitialized()).toBe(false);
            expect(wasmBridge.isSIMDSupported()).toBe(false);
        });
        test('should report initialized state correctly', async () => {
            await wasmBridge.initialize();
            expect(wasmBridge.isWasmInitialized()).toBe(true);
            expect(wasmBridge.isSIMDSupported()).toBe(true);
        });
        test('should maintain SIMD status after failed operations', async () => {
            await wasmBridge.initialize();
            // Try an operation that might fail
            try {
                const invalidInputs = null;
                wasmBridge.calculateNeuralActivation(invalidInputs);
            }
            catch (error) {
                // Expected to fail
            }
            expect(wasmBridge.isSIMDSupported()).toBe(true);
        });
    });
    describe('Memory Management', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should handle memory allocation and deallocation', () => {
            const inputs = new Float32Array([0.1, 0.2, 0.3]);
            // This should allocate and free memory internally
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeDefined();
            // Memory should be freed automatically
        });
        test('should handle multiple concurrent operations', () => {
            const inputs1 = new Float32Array([0.1, 0.2]);
            const inputs2 = new Float32Array([0.3, 0.4]);
            const connections = new Float32Array([0.5, 0.6]);
            const outputs1 = wasmBridge.calculateNeuralActivation(inputs1);
            const outputs2 = wasmBridge.calculateNeuralActivation(inputs2);
            const optimized = wasmBridge.optimizeConnections(connections);
            expect(outputs1).toBeDefined();
            expect(outputs2).toBeDefined();
            expect(optimized).toBeDefined();
        });
        test('should handle large memory allocations', () => {
            const largeInputs = new Float32Array(100000); // 100K elements
            largeInputs.fill(0.5);
            const outputs = wasmBridge.calculateNeuralActivation(largeInputs);
            expect(outputs).toBeDefined();
            expect(outputs.length).toBe(largeInputs.length);
        });
    });
    describe('Error Handling', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should handle null inputs gracefully', () => {
            expect(() => wasmBridge.calculateNeuralActivation(null))
                .toThrow();
        });
        test('should handle undefined inputs gracefully', () => {
            expect(() => wasmBridge.calculateNeuralActivation(undefined))
                .toThrow();
        });
        test('should handle invalid Float32Array inputs', () => {
            const invalidInputs = [1, 2, 3]; // Not a Float32Array
            expect(() => wasmBridge.calculateNeuralActivation(invalidInputs))
                .toThrow();
        });
        test('should handle WASM function errors', () => {
            // Mock WASM function to throw error
            mockWasmModule.calculate_neural_activation.mockImplementation(() => {
                throw new Error('WASM function error');
            });
            const inputs = new Float32Array([0.1, 0.2]);
            expect(() => wasmBridge.calculateNeuralActivation(inputs))
                .toThrow();
        });
        test('should handle memory allocation failures', () => {
            // This is harder to test directly, but we can test the error paths
            const originalAllocate = wasmBridge.allocateMemory;
            wasmBridge.allocateMemory = jest.fn(() => {
                throw new Error('Memory allocation failed');
            });
            const inputs = new Float32Array([0.1, 0.2]);
            expect(() => wasmBridge.calculateNeuralActivation(inputs))
                .toThrow();
            // Restore original
            wasmBridge.allocateMemory = originalAllocate;
        });
    });
    describe('SIMD Support Detection', () => {
        test('should detect SIMD support correctly', async () => {
            // Test with SIMD supported
            global.WebAssembly.validate = jest.fn(() => true);
            const simdBridge = new WasmBridge_1.WasmBridge();
            await simdBridge.initialize();
            expect(simdBridge.isSIMDSupported()).toBe(true);
        });
        test('should detect lack of SIMD support', async () => {
            // Test with SIMD not supported
            global.WebAssembly.validate = jest.fn(() => false);
            const noSimdBridge = new WasmBridge_1.WasmBridge();
            await noSimdBridge.initialize();
            expect(noSimdBridge.isSIMDSupported()).toBe(false);
        });
        test('should handle SIMD detection errors', async () => {
            // Test with SIMD detection throwing error
            global.WebAssembly.validate = jest.fn(() => {
                throw new Error('SIMD detection failed');
            });
            const errorBridge = new WasmBridge_1.WasmBridge();
            await errorBridge.initialize();
            expect(errorBridge.isSIMDSupported()).toBe(false);
        });
    });
    describe('Cleanup', () => {
        test('should cleanup resources properly', async () => {
            await wasmBridge.initialize();
            expect(wasmBridge.isWasmInitialized()).toBe(true);
            wasmBridge.cleanup();
            expect(wasmBridge.isWasmInitialized()).toBe(false);
            expect(wasmBridge.isSIMDSupported()).toBe(false);
        });
        test('should reset performance metrics on cleanup', async () => {
            await wasmBridge.initialize();
            // Perform some operations to update metrics
            const inputs = new Float32Array([0.1, 0.2]);
            wasmBridge.calculateNeuralActivation(inputs);
            wasmBridge.cleanup();
            const metrics = wasmBridge.getPerformanceMetrics();
            expect(metrics.executionTime).toBe(0);
            expect(metrics.memoryUsage).toBe(0);
            expect(metrics.simdAcceleration).toBe(false);
            expect(metrics.throughput).toBe(0);
            expect(metrics.efficiency).toBe(0);
        });
        test('should handle cleanup when not initialized', () => {
            const uninitializedBridge = new WasmBridge_1.WasmBridge();
            expect(() => uninitializedBridge.cleanup()).not.toThrow();
        });
        test('should allow re-initialization after cleanup', async () => {
            await wasmBridge.initialize();
            expect(wasmBridge.isWasmInitialized()).toBe(true);
            wasmBridge.cleanup();
            expect(wasmBridge.isWasmInitialized()).toBe(false);
            const result = await wasmBridge.initialize();
            expect(result).toBe(true);
            expect(wasmBridge.isWasmInitialized()).toBe(true);
        });
    });
    describe('Edge Cases', () => {
        beforeEach(async () => {
            await wasmBridge.initialize();
        });
        test('should handle very small numbers', () => {
            const inputs = new Float32Array([1e-10, -1e-10, 0]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeDefined();
            expect(outputs.length).toBe(inputs.length);
        });
        test('should handle very large numbers', () => {
            const inputs = new Float32Array([1e10, -1e10, Number.MAX_VALUE]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeDefined();
            expect(outputs.length).toBe(inputs.length);
        });
        test('should handle special float values', () => {
            const inputs = new Float32Array([NaN, Infinity, -Infinity]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeDefined();
            expect(outputs.length).toBe(inputs.length);
        });
        test('should handle maximum array size', () => {
            // Test with a reasonably large array (not too large to avoid memory issues)
            const maxSize = 1000000; // 1M elements
            const inputs = new Float32Array(maxSize);
            inputs.fill(0.5);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            expect(outputs).toBeDefined();
            expect(outputs.length).toBe(maxSize);
        });
        test('should handle zero window size in spike processing', () => {
            const spikes = new Float32Array([0.1, 0.2, 0.3]);
            const spikeRate = wasmBridge.processSpikeTrainData(spikes, 0);
            expect(typeof spikeRate).toBe('number');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL3dvcmtzcGFjZXMvYWdlbnRpc3RzLXF1aWNrc3RhcnQtd29ya3NwYWNlLWJhc2ljL3Nhc2kvdGVzdHMvdW5pdC91dGlscy9XYXNtQnJpZGdlLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7QUFFSCw4REFBMkQ7QUFFM0QsK0JBQStCO0FBQy9CLE1BQU0sVUFBVSxHQUFHO0lBQ2pCLE1BQU0sRUFBRSxJQUFJLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBTTtDQUM1QyxDQUFDO0FBRUYsTUFBTSxjQUFjLEdBQUc7SUFDckIsTUFBTSxFQUFFLFVBQVU7SUFDbEIsMkJBQTJCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUN0QyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQy9CLG1CQUFtQixFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDO0lBQ3hDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDO0lBQzlDLGNBQWMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNoQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Q0FDN0MsQ0FBQztBQUVGLE1BQU0sQ0FBQyxXQUFXLEdBQUc7SUFDbkIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDO0lBQ2pDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDO0lBQ3hDLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFDdEUsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMs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QUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLG9EQUFvRCxFQUFFLEdBQUcsRUFBRTtZQUM5RCxNQUFNLE1BQU0sR0FBRyxJQUFJLFlBQVksQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUVqRCxNQUFNLFNBQVMsR0FBRyxVQUFVLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBRTlELE1BQU0sQ0FBQyxPQUFPLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL3dvcmtzcGFjZXMvYWdlbnRpc3RzLXF1aWNrc3RhcnQtd29ya3NwYWNlLWJhc2ljL3Nhc2kvdGVzdHMvdW5pdC91dGlscy9XYXNtQnJpZGdlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIFVuaXQgVGVzdHMgZm9yIFdhc21CcmlkZ2VcbiAqIFRhcmdldDogOTUlKyBjb3ZlcmFnZSBmb3IgV0FTTSBvcGVyYXRpb25zIGFuZCBTSU1EIGFjY2VsZXJhdGlvblxuICovXG5cbmltcG9ydCB7IFdhc21CcmlkZ2UgfSBmcm9tICcuLi8uLi8uLi9zcmMvdXRpbHMvV2FzbUJyaWRnZSc7XG5cbi8vIE1vY2sgV2ViQXNzZW1ibHkgZm9yIHRlc3RpbmdcbmNvbnN0IG1vY2tNZW1vcnkgPSB7XG4gIGJ1ZmZlcjogbmV3IEFycmF5QnVmZmVyKDEwMjQgKiAxMDI0KSAvLyAxTUJcbn07XG5cbmNvbnN0IG1vY2tXYXNtTW9kdWxlID0ge1xuICBtZW1vcnk6IG1vY2tNZW1vcnksXG4gIGNhbGN1bGF0ZV9uZXVyYWxfYWN0aXZhdGlvbjogamVzdC5mbigpLFxuICBvcHRpbWl6ZV9jb25uZWN0aW9uczogamVzdC5mbigpLFxuICBwcm9jZXNzX3NwaWtlX3RyYWluOiBqZXN0LmZuKCgpID0+IDQyLjUpLFxuICBjYWxjdWxhdGVfbWVzaF9lZmZpY2llbmN5OiBqZXN0LmZuKCgpID0+IDAuODUpLFxuICBzaW1kX3N1cHBvcnRlZDogamVzdC5mbigoKSA9PiAxKSxcbiAgZ2V0X21lbW9yeV91c2FnZTogamVzdC5mbigoKSA9PiAxMDI0ICogMTAyNClcbn07XG5cbmdsb2JhbC5XZWJBc3NlbWJseSA9IHtcbiAgTWVtb3J5OiBqZXN0LmZuKCgpID0+IG1vY2tNZW1vcnkpLFxuICBjb21waWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe30pLFxuICBpbnN0YW50aWF0ZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgaW5zdGFuY2U6IG1vY2tXYXNtTW9kdWxlIH0pLFxuICB2YWxpZGF0ZTogamVzdC5mbigoKSA9PiB0cnVlKVxufSBhcyBhbnk7XG5cbi8vIE1vY2sgcGVyZm9ybWFuY2Vcbmdsb2JhbC5wZXJmb3JtYW5jZSA9IHtcbiAgbm93OiBqZXN0LmZuKCgpID0+IERhdGUubm93KCkpXG59IGFzIGFueTtcblxuZGVzY3JpYmUoJ1dhc21CcmlkZ2UgLSBDb21wcmVoZW5zaXZlIFVuaXQgVGVzdHMnLCAoKSA9PiB7XG4gIGxldCB3YXNtQnJpZGdlOiBXYXNtQnJpZGdlO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIHdhc21CcmlkZ2UgPSBuZXcgV2FzbUJyaWRnZSgpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGlmICh3YXNtQnJpZGdlKSB7XG4gICAgICB3YXNtQnJpZGdlLmNsZWFudXAoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdJbml0aWFsaXphdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaW5pdGlhbGl6ZSBzdWNjZXNzZnVsbHkgd2l0aCBXZWJBc3NlbWJseSBzdXBwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGRldGVjdCBTSU1EIHN1cHBvcnQgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzU0lNRFN1cHBvcnRlZCgpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIFdlYkFzc2VtYmx5IHN1cHBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFdlYkFzc2VtYmx5ID0gZ2xvYmFsLldlYkFzc2VtYmx5O1xuICAgICAgZGVsZXRlIChnbG9iYWwgYXMgYW55KS5XZWJBc3NlbWJseTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgV2ViQXNzZW1ibHlcbiAgICAgIGdsb2JhbC5XZWJBc3NlbWJseSA9IG9yaWdpbmFsV2ViQXNzZW1ibHk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIFdBU00gY29tcGlsYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxDb21waWxlID0gZ2xvYmFsLldlYkFzc2VtYmx5LmNvbXBpbGU7XG4gICAgICBnbG9iYWwuV2ViQXNzZW1ibHkuY29tcGlsZSA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NvbXBpbGF0aW9uIGZhaWxlZCcpKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsXG4gICAgICBnbG9iYWwuV2ViQXNzZW1ibHkuY29tcGlsZSA9IG9yaWdpbmFsQ29tcGlsZTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBkZXRlY3QgU0lNRCBzdXBwb3J0IGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFZhbGlkYXRlID0gZ2xvYmFsLldlYkFzc2VtYmx5LnZhbGlkYXRlO1xuICAgICAgZ2xvYmFsLldlYkFzc2VtYmx5LnZhbGlkYXRlID0gamVzdC5mbigoKSA9PiBmYWxzZSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1NJTURTdXBwb3J0ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgb3JpZ2luYWxcbiAgICAgIGdsb2JhbC5XZWJBc3NlbWJseS52YWxpZGF0ZSA9IG9yaWdpbmFsVmFsaWRhdGU7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdOZXVyYWwgQWN0aXZhdGlvbiBDYWxjdWxhdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGNhbGN1bGF0ZSBuZXVyYWwgYWN0aXZhdGlvbiBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuNSwgMC45LCAtMC4yLCAwLjddKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZUluc3RhbmNlT2YoRmxvYXQzMkFycmF5KTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShpbnB1dHMubGVuZ3RoKTtcbiAgICAgIGV4cGVjdChtb2NrV2FzbU1vZHVsZS5jYWxjdWxhdGVfbmV1cmFsX2FjdGl2YXRpb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgaW5wdXQgYXJyYXknLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFtdKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZUluc3RhbmNlT2YoRmxvYXQzMkFycmF5KTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgaW5wdXQgYXJyYXlzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VJbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMDAwKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFyZ2VJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFyZ2VJbnB1dHNbaV0gPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7IC8vIFJhbmdlIFstMSwgMV1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihsYXJnZUlucHV0cyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChvdXRwdXRzKS50b0JlSW5zdGFuY2VPZihGbG9hdDMyQXJyYXkpO1xuICAgICAgZXhwZWN0KG91dHB1dHMubGVuZ3RoKS50b0JlKGxhcmdlSW5wdXRzLmxlbmd0aCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMiwgMC4zXSk7XG4gICAgICBcbiAgICAgIHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmV4ZWN1dGlvblRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QobWV0cmljcy50aHJvdWdocHV0KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZWZmaWNpZW5jeSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gbm90IGluaXRpYWxpemVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZEJyaWRnZSA9IG5ldyBXYXNtQnJpZGdlKCk7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMl0pO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gdW5pbml0aWFsaXplZEJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKGlucHV0cykpXG4gICAgICAgIC50b1Rocm93KCdXQVNNIG1vZHVsZSBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nvbm5lY3Rpb24gT3B0aW1pemF0aW9uJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgb3B0aW1pemUgY29ubmVjdGlvbnMgc3VjY2Vzc2Z1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuNSwgMC44LCAwLjIsIDAuOV0pO1xuICAgICAgXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSB3YXNtQnJpZGdlLm9wdGltaXplQ29ubmVjdGlvbnMoY29ubmVjdGlvbnMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3B0aW1pemVkKS50b0JlSW5zdGFuY2VPZihGbG9hdDMyQXJyYXkpO1xuICAgICAgZXhwZWN0KG9wdGltaXplZC5sZW5ndGgpLnRvQmUoY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICAgIGV4cGVjdChtb2NrV2FzbU1vZHVsZS5vcHRpbWl6ZV9jb25uZWN0aW9ucykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBzaW5nbGUgY29ubmVjdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC41XSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IHdhc21CcmlkZ2Uub3B0aW1pemVDb25uZWN0aW9ucyhjb25uZWN0aW9ucyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQpLnRvQmVJbnN0YW5jZU9mKEZsb2F0MzJBcnJheSk7XG4gICAgICBleHBlY3Qob3B0aW1pemVkLmxlbmd0aCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY29ubmVjdGlvbnMgYXJyYXknLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25uZWN0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoW10pO1xuICAgICAgXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSB3YXNtQnJpZGdlLm9wdGltaXplQ29ubmVjdGlvbnMoY29ubmVjdGlvbnMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3B0aW1pemVkKS50b0JlSW5zdGFuY2VPZihGbG9hdDMyQXJyYXkpO1xuICAgICAgZXhwZWN0KG9wdGltaXplZC5sZW5ndGgpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3MgZHVyaW5nIG9wdGltaXphdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjIsIDAuMywgMC40LCAwLjVdKTtcbiAgICAgIFxuICAgICAgd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25zKTtcbiAgICAgIFxuICAgICAgY29uc3QgbWV0cmljcyA9IHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljcy5leGVjdXRpb25UaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MudGhyb3VnaHB1dCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0aHJvdyBlcnJvciB3aGVuIG5vdCBpbml0aWFsaXplZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRCcmlkZ2UgPSBuZXcgV2FzbUJyaWRnZSgpO1xuICAgICAgY29uc3QgY29ubmVjdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMl0pO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gdW5pbml0aWFsaXplZEJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25zKSlcbiAgICAgICAgLnRvVGhyb3coJ1dBU00gbW9kdWxlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3Bpa2UgVHJhaW4gUHJvY2Vzc2luZycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHByb2Nlc3Mgc3Bpa2UgdHJhaW4gZGF0YSBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGlrZXMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjAsIDAuMiwgMC44LCAwLjAsIDEuMCwgMC4zLCAwLjAsIDAuOV0pO1xuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDEwMDA7IC8vIDEgc2Vjb25kIHdpbmRvd1xuICAgICAgXG4gICAgICBjb25zdCBzcGlrZVJhdGUgPSB3YXNtQnJpZGdlLnByb2Nlc3NTcGlrZVRyYWluRGF0YShzcGlrZXMsIHdpbmRvd1NpemUpO1xuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIHNwaWtlUmF0ZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3Qoc3Bpa2VSYXRlKS50b0JlKDQyLjUpOyAvLyBNb2NrZWQgcmV0dXJuIHZhbHVlXG4gICAgICBleHBlY3QobW9ja1dhc21Nb2R1bGUucHJvY2Vzc19zcGlrZV90cmFpbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHNwaWtlcy5sZW5ndGgsXG4gICAgICAgIGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgc3Bpa2VzLmxlbmd0aCxcbiAgICAgICAgd2luZG93U2l6ZVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc3Bpa2UgZGF0YScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwaWtlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW10pO1xuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDEwMDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHNwaWtlUmF0ZSA9IHdhc21CcmlkZ2UucHJvY2Vzc1NwaWtlVHJhaW5EYXRhKHNwaWtlcywgd2luZG93U2l6ZSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0eXBlb2Ygc3Bpa2VSYXRlKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdChzcGlrZVJhdGUpLnRvQmUoNDIuNSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGRpZmZlcmVudCB3aW5kb3cgc2l6ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGlrZXMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuNSwgMC45XSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJhdGVzID0gWzEwMCwgNTAwLCAxMDAwLCAyMDAwXS5tYXAod2luZG93U2l6ZSA9PiBcbiAgICAgICAgd2FzbUJyaWRnZS5wcm9jZXNzU3Bpa2VUcmFpbkRhdGEoc3Bpa2VzLCB3aW5kb3dTaXplKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgcmF0ZXMuZm9yRWFjaChyYXRlID0+IHtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiByYXRlKS50b0JlKCdudW1iZXInKTtcbiAgICAgICAgZXhwZWN0KHJhdGUpLnRvQmUoNDIuNSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1cGRhdGUgcGVyZm9ybWFuY2UgbWV0cmljcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwaWtlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMSwgMC4yLCAwLjNdKTtcbiAgICAgIFxuICAgICAgd2FzbUJyaWRnZS5wcm9jZXNzU3Bpa2VUcmFpbkRhdGEoc3Bpa2VzLCAxMDAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgbWV0cmljcyA9IHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljcy5leGVjdXRpb25UaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHRocm93IGVycm9yIHdoZW4gbm90IGluaXRpYWxpemVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZEJyaWRnZSA9IG5ldyBXYXNtQnJpZGdlKCk7XG4gICAgICBjb25zdCBzcGlrZXMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMl0pO1xuICAgICAgXG4gICAgICBleHBlY3QoKCkgPT4gdW5pbml0aWFsaXplZEJyaWRnZS5wcm9jZXNzU3Bpa2VUcmFpbkRhdGEoc3Bpa2VzLCAxMDAwKSlcbiAgICAgICAgLnRvVGhyb3coJ1dBU00gbW9kdWxlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVzaCBFZmZpY2llbmN5IENhbGN1bGF0aW9uJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY2FsY3VsYXRlIG1lc2ggZWZmaWNpZW5jeSBzdWNjZXNzZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVyb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjUsIDAuOCwgMC4yXSk7XG4gICAgICBjb25zdCBzeW5hcHNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMywgMC43LCAwLjQsIDAuOSwgMC4xLCAwLjZdKTtcbiAgICAgIFxuICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTWVzaEVmZmljaWVuY3kobmV1cm9ucywgc3luYXBzZXMpO1xuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIGVmZmljaWVuY3kpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KGVmZmljaWVuY3kpLnRvQmUoMC44NSk7IC8vIE1vY2tlZCByZXR1cm4gdmFsdWVcbiAgICAgIGV4cGVjdChtb2NrV2FzbU1vZHVsZS5jYWxjdWxhdGVfbWVzaF9lZmZpY2llbmN5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbmV1cm9ucy5sZW5ndGgsXG4gICAgICAgIGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgc3luYXBzZXMubGVuZ3RoLFxuICAgICAgICBleHBlY3QuYW55KE51bWJlcilcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHNpbmdsZSBuZXVyb24gYW5kIHN5bmFwc2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVyb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC41XSk7XG4gICAgICBjb25zdCBzeW5hcHNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuN10pO1xuICAgICAgXG4gICAgICBjb25zdCBlZmZpY2llbmN5ID0gd2FzbUJyaWRnZS5jYWxjdWxhdGVNZXNoRWZmaWNpZW5jeShuZXVyb25zLCBzeW5hcHNlcyk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0eXBlb2YgZWZmaWNpZW5jeSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QoZWZmaWNpZW5jeSkudG9CZSgwLjg1KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgYXJyYXlzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1cm9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoW10pO1xuICAgICAgY29uc3Qgc3luYXBzZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtdKTtcbiAgICAgIFxuICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTWVzaEVmZmljaWVuY3kobmV1cm9ucywgc3luYXBzZXMpO1xuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIGVmZmljaWVuY3kpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KGVmZmljaWVuY3kpLnRvQmUoMC44NSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIG1pc21hdGNoZWQgYXJyYXkgc2l6ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVyb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjJdKTtcbiAgICAgIGNvbnN0IHN5bmFwc2VzID0gbmV3IEZsb2F0MzJBcnJheShbMC4zLCAwLjQsIDAuNSwgMC42LCAwLjddKTtcbiAgICAgIFxuICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTWVzaEVmZmljaWVuY3kobmV1cm9ucywgc3luYXBzZXMpO1xuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIGVmZmljaWVuY3kpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KGVmZmljaWVuY3kpLnRvQmUoMC44NSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXBkYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVyb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjJdKTtcbiAgICAgIGNvbnN0IHN5bmFwc2VzID0gbmV3IEZsb2F0MzJBcnJheShbMC4zLCAwLjRdKTtcbiAgICAgIFxuICAgICAgd2FzbUJyaWRnZS5jYWxjdWxhdGVNZXNoRWZmaWNpZW5jeShuZXVyb25zLCBzeW5hcHNlcyk7XG4gICAgICBcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSB3YXNtQnJpZGdlLmdldFBlcmZvcm1hbmNlTWV0cmljcygpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZXhlY3V0aW9uVGltZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0aHJvdyBlcnJvciB3aGVuIG5vdCBpbml0aWFsaXplZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuaW5pdGlhbGl6ZWRCcmlkZ2UgPSBuZXcgV2FzbUJyaWRnZSgpO1xuICAgICAgY29uc3QgbmV1cm9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMV0pO1xuICAgICAgY29uc3Qgc3luYXBzZXMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjJdKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHVuaW5pdGlhbGl6ZWRCcmlkZ2UuY2FsY3VsYXRlTWVzaEVmZmljaWVuY3kobmV1cm9ucywgc3luYXBzZXMpKVxuICAgICAgICAudG9UaHJvdygnV0FTTSBtb2R1bGUgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBNZXRyaWNzJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcHJvdmlkZSBpbml0aWFsIHBlcmZvcm1hbmNlIG1ldHJpY3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodHlwZW9mIG1ldHJpY3MuZXhlY3V0aW9uVGltZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIG1ldHJpY3MubWVtb3J5VXNhZ2UpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLnNpbWRBY2NlbGVyYXRpb24pLnRvQmUoJ2Jvb2xlYW4nKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWV0cmljcy50aHJvdWdocHV0KS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgbWV0cmljcy5lZmZpY2llbmN5KS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1cGRhdGUgbWVtb3J5IHVzYWdlIGZyb20gV0FTTSBtb2R1bGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1ldHJpY3MubWVtb3J5VXNhZ2UpLnRvQmUoMTAyNCAqIDEwMjQpOyAvLyBNb2NrZWQgdmFsdWVcbiAgICAgIGV4cGVjdChtb2NrV2FzbU1vZHVsZS5nZXRfbWVtb3J5X3VzYWdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdHJhY2sgU0lNRCBhY2NlbGVyYXRpb24gc3RhdHVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWV0cmljcyA9IHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtZXRyaWNzLnNpbWRBY2NlbGVyYXRpb24pLnRvQmUodHJ1ZSk7IC8vIEJhc2VkIG9uIGluaXRpYWxpemF0aW9uXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdHJhY2sgZXhlY3V0aW9uIHRpbWUgYWNyb3NzIG9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMiwgMC4zXSk7XG4gICAgICBcbiAgICAgIHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmV4ZWN1dGlvblRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdGF0dXMgQ2hlY2tzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXBvcnQgdW5pbml0aWFsaXplZCBzdGF0ZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzU0lNRFN1cHBvcnRlZCgpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXBvcnQgaW5pdGlhbGl6ZWQgc3RhdGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzV2FzbUluaXRpYWxpemVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1NJTURTdXBwb3J0ZWQoKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBtYWludGFpbiBTSU1EIHN0YXR1cyBhZnRlciBmYWlsZWQgb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgXG4gICAgICAvLyBUcnkgYW4gb3BlcmF0aW9uIHRoYXQgbWlnaHQgZmFpbFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52YWxpZElucHV0cyA9IG51bGwgYXMgYW55O1xuICAgICAgICB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW52YWxpZElucHV0cyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBFeHBlY3RlZCB0byBmYWlsXG4gICAgICB9XG4gICAgICBcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzU0lNRFN1cHBvcnRlZCgpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWVtb3J5IGFsbG9jYXRpb24gYW5kIGRlYWxsb2NhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMSwgMC4yLCAwLjNdKTtcbiAgICAgIFxuICAgICAgLy8gVGhpcyBzaG91bGQgYWxsb2NhdGUgYW5kIGZyZWUgbWVtb3J5IGludGVybmFsbHlcbiAgICAgIGNvbnN0IG91dHB1dHMgPSB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW5wdXRzKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG91dHB1dHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAvLyBNZW1vcnkgc2hvdWxkIGJlIGZyZWVkIGF1dG9tYXRpY2FsbHlcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgY29uY3VycmVudCBvcGVyYXRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzMSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMSwgMC4yXSk7XG4gICAgICBjb25zdCBpbnB1dHMyID0gbmV3IEZsb2F0MzJBcnJheShbMC4zLCAwLjRdKTtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC41LCAwLjZdKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0czEgPSB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW5wdXRzMSk7XG4gICAgICBjb25zdCBvdXRwdXRzMiA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMyKTtcbiAgICAgIGNvbnN0IG9wdGltaXplZCA9IHdhc21CcmlkZ2Uub3B0aW1pemVDb25uZWN0aW9ucyhjb25uZWN0aW9ucyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChvdXRwdXRzMSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzMikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGxhcmdlIG1lbW9yeSBhbGxvY2F0aW9ucycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlSW5wdXRzID0gbmV3IEZsb2F0MzJBcnJheSgxMDAwMDApOyAvLyAxMDBLIGVsZW1lbnRzXG4gICAgICBsYXJnZUlucHV0cy5maWxsKDAuNSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG91dHB1dHMgPSB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24obGFyZ2VJbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShsYXJnZUlucHV0cy5sZW5ndGgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbnVsbCBpbnB1dHMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24obnVsbCBhcyBhbnkpKVxuICAgICAgICAudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB1bmRlZmluZWQgaW5wdXRzIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoKCkgPT4gd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKHVuZGVmaW5lZCBhcyBhbnkpKVxuICAgICAgICAudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIEZsb2F0MzJBcnJheSBpbnB1dHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSW5wdXRzID0gWzEsIDIsIDNdIGFzIGFueTsgLy8gTm90IGEgRmxvYXQzMkFycmF5XG4gICAgICBcbiAgICAgIGV4cGVjdCgoKSA9PiB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW52YWxpZElucHV0cykpXG4gICAgICAgIC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIFdBU00gZnVuY3Rpb24gZXJyb3JzJywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBXQVNNIGZ1bmN0aW9uIHRvIHRocm93IGVycm9yXG4gICAgICBtb2NrV2FzbU1vZHVsZS5jYWxjdWxhdGVfbmV1cmFsX2FjdGl2YXRpb24ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXQVNNIGZ1bmN0aW9uIGVycm9yJyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgaW5wdXRzID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjJdKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpKVxuICAgICAgICAudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBtZW1vcnkgYWxsb2NhdGlvbiBmYWlsdXJlcycsICgpID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgaGFyZGVyIHRvIHRlc3QgZGlyZWN0bHksIGJ1dCB3ZSBjYW4gdGVzdCB0aGUgZXJyb3IgcGF0aHNcbiAgICAgIGNvbnN0IG9yaWdpbmFsQWxsb2NhdGUgPSAod2FzbUJyaWRnZSBhcyBhbnkpLmFsbG9jYXRlTWVtb3J5O1xuICAgICAgKHdhc21CcmlkZ2UgYXMgYW55KS5hbGxvY2F0ZU1lbW9yeSA9IGplc3QuZm4oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lbW9yeSBhbGxvY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMSwgMC4yXSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCgoKSA9PiB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW5wdXRzKSlcbiAgICAgICAgLnRvVGhyb3coKTtcbiAgICAgIFxuICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbFxuICAgICAgKHdhc21CcmlkZ2UgYXMgYW55KS5hbGxvY2F0ZU1lbW9yeSA9IG9yaWdpbmFsQWxsb2NhdGU7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTSU1EIFN1cHBvcnQgRGV0ZWN0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBkZXRlY3QgU0lNRCBzdXBwb3J0IGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRlc3Qgd2l0aCBTSU1EIHN1cHBvcnRlZFxuICAgICAgZ2xvYmFsLldlYkFzc2VtYmx5LnZhbGlkYXRlID0gamVzdC5mbigoKSA9PiB0cnVlKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2ltZEJyaWRnZSA9IG5ldyBXYXNtQnJpZGdlKCk7XG4gICAgICBhd2FpdCBzaW1kQnJpZGdlLmluaXRpYWxpemUoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNpbWRCcmlkZ2UuaXNTSU1EU3VwcG9ydGVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgZGV0ZWN0IGxhY2sgb2YgU0lNRCBzdXBwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGVzdCB3aXRoIFNJTUQgbm90IHN1cHBvcnRlZFxuICAgICAgZ2xvYmFsLldlYkFzc2VtYmx5LnZhbGlkYXRlID0gamVzdC5mbigoKSA9PiBmYWxzZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5vU2ltZEJyaWRnZSA9IG5ldyBXYXNtQnJpZGdlKCk7XG4gICAgICBhd2FpdCBub1NpbWRCcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgXG4gICAgICBleHBlY3Qobm9TaW1kQnJpZGdlLmlzU0lNRFN1cHBvcnRlZCgpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgU0lNRCBkZXRlY3Rpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGVzdCB3aXRoIFNJTUQgZGV0ZWN0aW9uIHRocm93aW5nIGVycm9yXG4gICAgICBnbG9iYWwuV2ViQXNzZW1ibHkudmFsaWRhdGUgPSBqZXN0LmZuKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTSU1EIGRldGVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBlcnJvckJyaWRnZSA9IG5ldyBXYXNtQnJpZGdlKCk7XG4gICAgICBhd2FpdCBlcnJvckJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChlcnJvckJyaWRnZS5pc1NJTURTdXBwb3J0ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDbGVhbnVwJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjbGVhbnVwIHJlc291cmNlcyBwcm9wZXJseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICB3YXNtQnJpZGdlLmNsZWFudXAoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1NJTURTdXBwb3J0ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmVzZXQgcGVyZm9ybWFuY2UgbWV0cmljcyBvbiBjbGVhbnVwJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm0gc29tZSBvcGVyYXRpb25zIHRvIHVwZGF0ZSBtZXRyaWNzXG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMl0pO1xuICAgICAgd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKGlucHV0cyk7XG4gICAgICBcbiAgICAgIHdhc21CcmlkZ2UuY2xlYW51cCgpO1xuICAgICAgXG4gICAgICBjb25zdCBtZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmV4ZWN1dGlvblRpbWUpLnRvQmUoMCk7XG4gICAgICBleHBlY3QobWV0cmljcy5tZW1vcnlVc2FnZSkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLnNpbWRBY2NlbGVyYXRpb24pLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MudGhyb3VnaHB1dCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmVmZmljaWVuY3kpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNsZWFudXAgd2hlbiBub3QgaW5pdGlhbGl6ZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bmluaXRpYWxpemVkQnJpZGdlID0gbmV3IFdhc21CcmlkZ2UoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHVuaW5pdGlhbGl6ZWRCcmlkZ2UuY2xlYW51cCgpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGFsbG93IHJlLWluaXRpYWxpemF0aW9uIGFmdGVyIGNsZWFudXAnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKTtcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzV2FzbUluaXRpYWxpemVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIHdhc21CcmlkZ2UuY2xlYW51cCgpO1xuICAgICAgZXhwZWN0KHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzV2FzbUluaXRpYWxpemVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZlcnkgc21hbGwgbnVtYmVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzFlLTEwLCAtMWUtMTAsIDBdKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShpbnB1dHMubGVuZ3RoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmVyeSBsYXJnZSBudW1iZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXRzID0gbmV3IEZsb2F0MzJBcnJheShbMWUxMCwgLTFlMTAsIE51bWJlci5NQVhfVkFMVUVdKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShpbnB1dHMubGVuZ3RoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBmbG9hdCB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFtOYU4sIEluZmluaXR5LCAtSW5maW5pdHldKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShpbnB1dHMubGVuZ3RoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbWF4aW11bSBhcnJheSBzaXplJywgKCkgPT4ge1xuICAgICAgLy8gVGVzdCB3aXRoIGEgcmVhc29uYWJseSBsYXJnZSBhcnJheSAobm90IHRvbyBsYXJnZSB0byBhdm9pZCBtZW1vcnkgaXNzdWVzKVxuICAgICAgY29uc3QgbWF4U2l6ZSA9IDEwMDAwMDA7IC8vIDFNIGVsZW1lbnRzXG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KG1heFNpemUpO1xuICAgICAgaW5wdXRzLmZpbGwoMC41KTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpO1xuICAgICAgXG4gICAgICBleHBlY3Qob3V0cHV0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShtYXhTaXplKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgemVybyB3aW5kb3cgc2l6ZSBpbiBzcGlrZSBwcm9jZXNzaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3Bpa2VzID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjIsIDAuM10pO1xuICAgICAgXG4gICAgICBjb25zdCBzcGlrZVJhdGUgPSB3YXNtQnJpZGdlLnByb2Nlc3NTcGlrZVRyYWluRGF0YShzcGlrZXMsIDApO1xuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIHNwaWtlUmF0ZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9