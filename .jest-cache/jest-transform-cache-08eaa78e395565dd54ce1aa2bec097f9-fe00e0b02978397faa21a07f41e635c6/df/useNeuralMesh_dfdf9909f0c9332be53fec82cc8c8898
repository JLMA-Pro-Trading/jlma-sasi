75c67c11c13a71a66046836203cccfec
"use strict";
/**
 * React Hook for Neural Mesh Integration
 *
 * Provides React components with access to the neural mesh service,
 * real-time agent updates, and WASM-accelerated computations.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.useNeuralMesh = void 0;
const react_1 = require("react");
const NeuralMeshService_1 = require("../services/NeuralMeshService");
const useNeuralMesh = (props = {}) => {
    const [state, setState] = (0, react_1.useState)({
        connection: null,
        agents: [],
        isConnected: false,
        isInitializing: false,
        error: null,
        metrics: {
            totalNeurons: 0,
            totalSynapses: 0,
            averageActivity: 0,
            networkEfficiency: 0,
            wasmAcceleration: false
        }
    });
    const serviceRef = (0, react_1.useRef)(null);
    const reconnectTimeoutRef = (0, react_1.useRef)(null);
    // Initialize neural mesh service
    (0, react_1.useEffect)(() => {
        const config = {
            serverUrl: props.serverUrl || 'ws://localhost:3000',
            transport: 'websocket',
            enableWasm: props.enableWasm !== false,
            enableRealtime: props.enableRealtime !== false,
            debugMode: props.debugMode || false
        };
        serviceRef.current = new NeuralMeshService_1.NeuralMeshService(config);
        // Set up event listeners
        const service = serviceRef.current;
        service.on('connected', (connection) => {
            setState(prev => ({
                ...prev,
                connection,
                isConnected: true,
                isInitializing: false,
                error: null
            }));
        });
        service.on('disconnected', (connection) => {
            setState(prev => ({
                ...prev,
                connection,
                isConnected: false,
                error: 'Disconnected from neural mesh'
            }));
            // Attempt to reconnect after 3 seconds
            if (reconnectTimeoutRef.current) {
                clearTimeout(reconnectTimeoutRef.current);
            }
            reconnectTimeoutRef.current = setTimeout(() => {
                initializeService();
            }, 3000);
        });
        service.on('error', (error) => {
            setState(prev => ({
                ...prev,
                error: error.message,
                isInitializing: false
            }));
        });
        service.on('agent_created', (agent) => {
            setState(prev => ({
                ...prev,
                agents: [...prev.agents, agent]
            }));
        });
        service.on('agent_updated', (agent) => {
            setState(prev => ({
                ...prev,
                agents: prev.agents.map(a => a.id === agent.id ? agent : a)
            }));
        });
        service.on('status_update', (status) => {
            setState(prev => ({
                ...prev,
                metrics: {
                    ...prev.metrics,
                    totalNeurons: status.metrics?.total_neurons || 0,
                    totalSynapses: status.metrics?.total_synapses || 0,
                    averageActivity: status.metrics?.activity_level || 0,
                    networkEfficiency: status.metrics?.efficiency_score || 0,
                    wasmAcceleration: service.isWasmEnabled()
                }
            }));
        });
        service.on('mesh_trained', (results) => {
            if (props.debugMode) {
                console.log('ðŸ§  Neural mesh training completed:', results);
            }
        });
        // Initialize the service
        const initializeService = async () => {
            setState(prev => ({ ...prev, isInitializing: true, error: null }));
            try {
                await service.initialize();
            }
            catch (error) {
                setState(prev => ({
                    ...prev,
                    error: error.message,
                    isInitializing: false
                }));
            }
        };
        initializeService();
        // Cleanup
        return () => {
            if (reconnectTimeoutRef.current) {
                clearTimeout(reconnectTimeoutRef.current);
            }
            service.disconnect();
        };
    }, [props.serverUrl, props.enableWasm, props.enableRealtime, props.debugMode]);
    // Create a new neural agent
    const createAgent = (0, react_1.useCallback)(async (type, config) => {
        if (!serviceRef.current)
            return null;
        try {
            const agent = await serviceRef.current.createNeuralAgent({ type, ...config });
            return agent;
        }
        catch (error) {
            setState(prev => ({
                ...prev,
                error: error.message
            }));
            return null;
        }
    }, []);
    // Update an existing agent
    const updateAgent = (0, react_1.useCallback)(async (agent) => {
        if (!serviceRef.current)
            return null;
        try {
            const updatedAgent = await serviceRef.current.updateNeuralAgent(agent.id, agent);
            return updatedAgent;
        }
        catch (error) {
            setState(prev => ({
                ...prev,
                error: error.message
            }));
            return null;
        }
    }, []);
    // Remove an agent
    const removeAgent = (0, react_1.useCallback)((agentId) => {
        setState(prev => ({
            ...prev,
            agents: prev.agents.filter(agent => agent.id !== agentId)
        }));
    }, []);
    // Train the neural mesh
    const trainMesh = (0, react_1.useCallback)(async (patterns) => {
        if (!serviceRef.current)
            return false;
        try {
            const success = await serviceRef.current.trainMesh(patterns);
            return success;
        }
        catch (error) {
            setState(prev => ({
                ...prev,
                error: error.message
            }));
            return false;
        }
    }, []);
    // Get mesh status
    const getMeshStatus = (0, react_1.useCallback)(async () => {
        if (!serviceRef.current)
            return null;
        try {
            const status = await serviceRef.current.getMeshStatus();
            return status;
        }
        catch (error) {
            setState(prev => ({
                ...prev,
                error: error.message
            }));
            return null;
        }
    }, []);
    // Clear error
    const clearError = (0, react_1.useCallback)(() => {
        setState(prev => ({ ...prev, error: null }));
    }, []);
    // Manually reconnect
    const reconnect = (0, react_1.useCallback)(async () => {
        if (!serviceRef.current)
            return;
        setState(prev => ({ ...prev, isInitializing: true, error: null }));
        try {
            await serviceRef.current.initialize();
        }
        catch (error) {
            setState(prev => ({
                ...prev,
                error: error.message,
                isInitializing: false
            }));
        }
    }, []);
    return {
        // State
        ...state,
        // Actions
        createAgent,
        updateAgent,
        removeAgent,
        trainMesh,
        getMeshStatus,
        clearError,
        reconnect,
        // Computed values
        neuralAgentCount: state.agents.length,
        activeNeuralAgents: state.agents.filter(a => a.status === 'active' || a.status === 'processing').length,
        isWasmEnabled: serviceRef.current?.isWasmEnabled() || false,
        // Service reference (for advanced usage)
        service: serviceRef.current
    };
};
exports.useNeuralMesh = useNeuralMesh;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL3dvcmtzcGFjZXMvYWdlbnRpc3RzLXF1aWNrc3RhcnQtd29ya3NwYWNlLWJhc2ljL3Nhc2kvc3JjL2hvb2tzL3VzZU5ldXJhbE1lc2gudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHOzs7QUFFSCxpQ0FBZ0U7QUFDaEUscUVBQW9HO0FBeUI3RixNQUFNLGFBQWEsR0FBRyxDQUFDLFFBQTRCLEVBQUUsRUFBRSxFQUFFO0lBQzlELE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFrQjtRQUNsRCxVQUFVLEVBQUUsSUFBSTtRQUNoQixNQUFNLEVBQUUsRUFBRTtRQUNWLFdBQVcsRUFBRSxLQUFLO1FBQ2xCLGNBQWMsRUFBRSxLQUFLO1FBQ3JCLEtBQUssRUFBRSxJQUFJO1FBQ1gsT0FBTyxFQUFFO1lBQ1AsWUFBWSxFQUFFLENBQUM7WUFDZixhQUFhLEVBQUUsQ0FBQztZQUNoQixlQUFlLEVBQUUsQ0FBQztZQUNsQixpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLGdCQUFnQixFQUFFLEtBQUs7U0FDeEI7S0FDRixDQUFDLENBQUE7SUFFRixNQUFNLFVBQVUsR0FBRyxJQUFBLGNBQU0sRUFBMkIsSUFBSSxDQUFDLENBQUE7SUFDekQsTUFBTSxtQkFBbUIsR0FBRyxJQUFBLGNBQU0sRUFBd0IsSUFBSSxDQUFDLENBQUE7SUFFL0QsaUNBQWlDO0lBQ2pDLElBQUEsaUJBQVMsRUFBQyxHQUFHLEVBQUU7UUFDYixNQUFNLE1BQU0sR0FBRztZQUNiLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxJQUFJLHFCQUFxQjtZQUNuRCxTQUFTLEVBQUUsV0FBb0I7WUFDL0IsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVLEtBQUssS0FBSztZQUN0QyxjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWMsS0FBSyxLQUFLO1lBQzlDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUs7U0FDcEMsQ0FBQTtRQUVELFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxxQ0FB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QUcsSUFBSTtnQkFDUCxLQUFLLEVBQUUsS0FBSyxDQUFDLE9BQU87Z0JBQ3BCLGNBQWMsRUFBRSxLQUFLO2FBQ3RCLENBQUMsQ0FBQyxDQUFBO1FBQ0wsQ0FBQztJQUNILENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUVOLE9BQU87UUFDTCxRQUFRO1FBQ1IsR0FBRyxLQUFLO1FBRVIsVUFBVTtRQUNWLFdBQVc7UUFDWCxXQUFXO1FBQ1gsV0FBVztRQUNYLFNBQVM7UUFDVCxhQUFhO1FBQ2IsVUFBVTtRQUNWLFNBQVM7UUFFVCxrQkFBa0I7UUFDbEIsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNO1FBQ3JDLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxRQUFRLElBQUksQ0FBQyxDQUFDLE1BQU0sS0FBSyxZQUFZLENBQUMsQ0FBQyxNQUFNO1FBQ3ZHLGFBQWEsRUFBRSxVQUFVLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLEtBQUs7UUFFM0QseUNBQXlDO1FBQ3pDLE9BQU8sRUFBRSxVQUFVLENBQUMsT0FBTztLQUM1QixDQUFBO0FBQ0gsQ0FBQyxDQUFBO0FBcFBZLFFBQUEsYUFBYSxpQkFvUHpCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi93b3Jrc3BhY2VzL2FnZW50aXN0cy1xdWlja3N0YXJ0LXdvcmtzcGFjZS1iYXNpYy9zYXNpL3NyYy9ob29rcy91c2VOZXVyYWxNZXNoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVhY3QgSG9vayBmb3IgTmV1cmFsIE1lc2ggSW50ZWdyYXRpb25cbiAqIFxuICogUHJvdmlkZXMgUmVhY3QgY29tcG9uZW50cyB3aXRoIGFjY2VzcyB0byB0aGUgbmV1cmFsIG1lc2ggc2VydmljZSxcbiAqIHJlYWwtdGltZSBhZ2VudCB1cGRhdGVzLCBhbmQgV0FTTS1hY2NlbGVyYXRlZCBjb21wdXRhdGlvbnMuXG4gKi9cblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTmV1cmFsTWVzaFNlcnZpY2UsIE5ldXJhbEFnZW50LCBOZXVyYWxNZXNoQ29ubmVjdGlvbiB9IGZyb20gJy4uL3NlcnZpY2VzL05ldXJhbE1lc2hTZXJ2aWNlJ1xuaW1wb3J0IHsgQWdlbnQgfSBmcm9tICcuLi90eXBlcy9hZ2VudCdcblxuZXhwb3J0IGludGVyZmFjZSBVc2VOZXVyYWxNZXNoUHJvcHMge1xuICBzZXJ2ZXJVcmw/OiBzdHJpbmdcbiAgZW5hYmxlV2FzbT86IGJvb2xlYW5cbiAgZW5hYmxlUmVhbHRpbWU/OiBib29sZWFuXG4gIGRlYnVnTW9kZT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOZXVyYWxNZXNoU3RhdGUge1xuICBjb25uZWN0aW9uOiBOZXVyYWxNZXNoQ29ubmVjdGlvbiB8IG51bGxcbiAgYWdlbnRzOiBOZXVyYWxBZ2VudFtdXG4gIGlzQ29ubmVjdGVkOiBib29sZWFuXG4gIGlzSW5pdGlhbGl6aW5nOiBib29sZWFuXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsXG4gIG1ldHJpY3M6IHtcbiAgICB0b3RhbE5ldXJvbnM6IG51bWJlclxuICAgIHRvdGFsU3luYXBzZXM6IG51bWJlclxuICAgIGF2ZXJhZ2VBY3Rpdml0eTogbnVtYmVyXG4gICAgbmV0d29ya0VmZmljaWVuY3k6IG51bWJlclxuICAgIHdhc21BY2NlbGVyYXRpb246IGJvb2xlYW5cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdXNlTmV1cmFsTWVzaCA9IChwcm9wczogVXNlTmV1cmFsTWVzaFByb3BzID0ge30pID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxOZXVyYWxNZXNoU3RhdGU+KHtcbiAgICBjb25uZWN0aW9uOiBudWxsLFxuICAgIGFnZW50czogW10sXG4gICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgIGlzSW5pdGlhbGl6aW5nOiBmYWxzZSxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBtZXRyaWNzOiB7XG4gICAgICB0b3RhbE5ldXJvbnM6IDAsXG4gICAgICB0b3RhbFN5bmFwc2VzOiAwLFxuICAgICAgYXZlcmFnZUFjdGl2aXR5OiAwLFxuICAgICAgbmV0d29ya0VmZmljaWVuY3k6IDAsXG4gICAgICB3YXNtQWNjZWxlcmF0aW9uOiBmYWxzZVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBzZXJ2aWNlUmVmID0gdXNlUmVmPE5ldXJhbE1lc2hTZXJ2aWNlIHwgbnVsbD4obnVsbClcbiAgY29uc3QgcmVjb25uZWN0VGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG5cbiAgLy8gSW5pdGlhbGl6ZSBuZXVyYWwgbWVzaCBzZXJ2aWNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgc2VydmVyVXJsOiBwcm9wcy5zZXJ2ZXJVcmwgfHwgJ3dzOi8vbG9jYWxob3N0OjMwMDAnLFxuICAgICAgdHJhbnNwb3J0OiAnd2Vic29ja2V0JyBhcyBjb25zdCxcbiAgICAgIGVuYWJsZVdhc206IHByb3BzLmVuYWJsZVdhc20gIT09IGZhbHNlLFxuICAgICAgZW5hYmxlUmVhbHRpbWU6IHByb3BzLmVuYWJsZVJlYWx0aW1lICE9PSBmYWxzZSxcbiAgICAgIGRlYnVnTW9kZTogcHJvcHMuZGVidWdNb2RlIHx8IGZhbHNlXG4gICAgfVxuXG4gICAgc2VydmljZVJlZi5jdXJyZW50ID0gbmV3IE5ldXJhbE1lc2hTZXJ2aWNlKGNvbmZpZylcbiAgICBcbiAgICAvLyBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgY29uc3Qgc2VydmljZSA9IHNlcnZpY2VSZWYuY3VycmVudFxuICAgIFxuICAgIHNlcnZpY2Uub24oJ2Nvbm5lY3RlZCcsIChjb25uZWN0aW9uOiBOZXVyYWxNZXNoQ29ubmVjdGlvbikgPT4ge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaXNJbml0aWFsaXppbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSkpXG4gICAgfSlcblxuICAgIHNlcnZpY2Uub24oJ2Rpc2Nvbm5lY3RlZCcsIChjb25uZWN0aW9uOiBOZXVyYWxNZXNoQ29ubmVjdGlvbikgPT4ge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjb25uZWN0aW9uLFxuICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRGlzY29ubmVjdGVkIGZyb20gbmV1cmFsIG1lc2gnXG4gICAgICB9KSlcbiAgICAgIFxuICAgICAgLy8gQXR0ZW1wdCB0byByZWNvbm5lY3QgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgICBpZiAocmVjb25uZWN0VGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICB9XG4gICAgICByZWNvbm5lY3RUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5pdGlhbGl6ZVNlcnZpY2UoKVxuICAgICAgfSwgMzAwMClcbiAgICB9KVxuXG4gICAgc2VydmljZS5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBpc0luaXRpYWxpemluZzogZmFsc2VcbiAgICAgIH0pKVxuICAgIH0pXG5cbiAgICBzZXJ2aWNlLm9uKCdhZ2VudF9jcmVhdGVkJywgKGFnZW50OiBOZXVyYWxBZ2VudCkgPT4ge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBhZ2VudHM6IFsuLi5wcmV2LmFnZW50cywgYWdlbnRdXG4gICAgICB9KSlcbiAgICB9KVxuXG4gICAgc2VydmljZS5vbignYWdlbnRfdXBkYXRlZCcsIChhZ2VudDogTmV1cmFsQWdlbnQpID0+IHtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgYWdlbnRzOiBwcmV2LmFnZW50cy5tYXAoYSA9PiBhLmlkID09PSBhZ2VudC5pZCA/IGFnZW50IDogYSlcbiAgICAgIH0pKVxuICAgIH0pXG5cbiAgICBzZXJ2aWNlLm9uKCdzdGF0dXNfdXBkYXRlJywgKHN0YXR1czogYW55KSA9PiB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICAuLi5wcmV2Lm1ldHJpY3MsXG4gICAgICAgICAgdG90YWxOZXVyb25zOiBzdGF0dXMubWV0cmljcz8udG90YWxfbmV1cm9ucyB8fCAwLFxuICAgICAgICAgIHRvdGFsU3luYXBzZXM6IHN0YXR1cy5tZXRyaWNzPy50b3RhbF9zeW5hcHNlcyB8fCAwLFxuICAgICAgICAgIGF2ZXJhZ2VBY3Rpdml0eTogc3RhdHVzLm1ldHJpY3M/LmFjdGl2aXR5X2xldmVsIHx8IDAsXG4gICAgICAgICAgbmV0d29ya0VmZmljaWVuY3k6IHN0YXR1cy5tZXRyaWNzPy5lZmZpY2llbmN5X3Njb3JlIHx8IDAsXG4gICAgICAgICAgd2FzbUFjY2VsZXJhdGlvbjogc2VydmljZS5pc1dhc21FbmFibGVkKClcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgfSlcblxuICAgIHNlcnZpY2Uub24oJ21lc2hfdHJhaW5lZCcsIChyZXN1bHRzOiBhbnkpID0+IHtcbiAgICAgIGlmIChwcm9wcy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp6AgTmV1cmFsIG1lc2ggdHJhaW5pbmcgY29tcGxldGVkOicsIHJlc3VsdHMpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIHNlcnZpY2VcbiAgICBjb25zdCBpbml0aWFsaXplU2VydmljZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgaXNJbml0aWFsaXppbmc6IHRydWUsIGVycm9yOiBudWxsIH0pKVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBzZXJ2aWNlLmluaXRpYWxpemUoKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgaXNJbml0aWFsaXppbmc6IGZhbHNlXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVTZXJ2aWNlKClcblxuICAgIC8vIENsZWFudXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHJlY29ubmVjdFRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocmVjb25uZWN0VGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgfVxuICAgICAgc2VydmljZS5kaXNjb25uZWN0KClcbiAgICB9XG4gIH0sIFtwcm9wcy5zZXJ2ZXJVcmwsIHByb3BzLmVuYWJsZVdhc20sIHByb3BzLmVuYWJsZVJlYWx0aW1lLCBwcm9wcy5kZWJ1Z01vZGVdKVxuXG4gIC8vIENyZWF0ZSBhIG5ldyBuZXVyYWwgYWdlbnRcbiAgY29uc3QgY3JlYXRlQWdlbnQgPSB1c2VDYWxsYmFjayhhc3luYyAodHlwZTogQWdlbnRbJ3R5cGUnXSwgY29uZmlnPzogYW55KTogUHJvbWlzZTxOZXVyYWxBZ2VudCB8IG51bGw+ID0+IHtcbiAgICBpZiAoIXNlcnZpY2VSZWYuY3VycmVudCkgcmV0dXJuIG51bGxcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgYWdlbnQgPSBhd2FpdCBzZXJ2aWNlUmVmLmN1cnJlbnQuY3JlYXRlTmV1cmFsQWdlbnQoeyB0eXBlLCAuLi5jb25maWcgfSlcbiAgICAgIHJldHVybiBhZ2VudFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyBVcGRhdGUgYW4gZXhpc3RpbmcgYWdlbnRcbiAgY29uc3QgdXBkYXRlQWdlbnQgPSB1c2VDYWxsYmFjayhhc3luYyAoYWdlbnQ6IE5ldXJhbEFnZW50KTogUHJvbWlzZTxOZXVyYWxBZ2VudCB8IG51bGw+ID0+IHtcbiAgICBpZiAoIXNlcnZpY2VSZWYuY3VycmVudCkgcmV0dXJuIG51bGxcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZEFnZW50ID0gYXdhaXQgc2VydmljZVJlZi5jdXJyZW50LnVwZGF0ZU5ldXJhbEFnZW50KGFnZW50LmlkLCBhZ2VudClcbiAgICAgIHJldHVybiB1cGRhdGVkQWdlbnRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSkpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gUmVtb3ZlIGFuIGFnZW50XG4gIGNvbnN0IHJlbW92ZUFnZW50ID0gdXNlQ2FsbGJhY2soKGFnZW50SWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBhZ2VudHM6IHByZXYuYWdlbnRzLmZpbHRlcihhZ2VudCA9PiBhZ2VudC5pZCAhPT0gYWdlbnRJZClcbiAgICB9KSlcbiAgfSwgW10pXG5cbiAgLy8gVHJhaW4gdGhlIG5ldXJhbCBtZXNoXG4gIGNvbnN0IHRyYWluTWVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jIChwYXR0ZXJuczogYW55W10pOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBpZiAoIXNlcnZpY2VSZWYuY3VycmVudCkgcmV0dXJuIGZhbHNlXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBzZXJ2aWNlUmVmLmN1cnJlbnQudHJhaW5NZXNoKHBhdHRlcm5zKVxuICAgICAgcmV0dXJuIHN1Y2Nlc3NcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIEdldCBtZXNoIHN0YXR1c1xuICBjb25zdCBnZXRNZXNoU3RhdHVzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKCFzZXJ2aWNlUmVmLmN1cnJlbnQpIHJldHVybiBudWxsXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IHNlcnZpY2VSZWYuY3VycmVudC5nZXRNZXNoU3RhdHVzKClcbiAgICAgIHJldHVybiBzdGF0dXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSkpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gQ2xlYXIgZXJyb3JcbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiBudWxsIH0pKVxuICB9LCBbXSlcblxuICAvLyBNYW51YWxseSByZWNvbm5lY3RcbiAgY29uc3QgcmVjb25uZWN0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VydmljZVJlZi5jdXJyZW50KSByZXR1cm5cbiAgICBcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGlzSW5pdGlhbGl6aW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KSlcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2VydmljZVJlZi5jdXJyZW50LmluaXRpYWxpemUoKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBpc0luaXRpYWxpemluZzogZmFsc2VcbiAgICAgIH0pKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBTdGF0ZVxuICAgIC4uLnN0YXRlLFxuICAgIFxuICAgIC8vIEFjdGlvbnNcbiAgICBjcmVhdGVBZ2VudCxcbiAgICB1cGRhdGVBZ2VudCxcbiAgICByZW1vdmVBZ2VudCxcbiAgICB0cmFpbk1lc2gsXG4gICAgZ2V0TWVzaFN0YXR1cyxcbiAgICBjbGVhckVycm9yLFxuICAgIHJlY29ubmVjdCxcbiAgICBcbiAgICAvLyBDb21wdXRlZCB2YWx1ZXNcbiAgICBuZXVyYWxBZ2VudENvdW50OiBzdGF0ZS5hZ2VudHMubGVuZ3RoLFxuICAgIGFjdGl2ZU5ldXJhbEFnZW50czogc3RhdGUuYWdlbnRzLmZpbHRlcihhID0+IGEuc3RhdHVzID09PSAnYWN0aXZlJyB8fCBhLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnKS5sZW5ndGgsXG4gICAgaXNXYXNtRW5hYmxlZDogc2VydmljZVJlZi5jdXJyZW50Py5pc1dhc21FbmFibGVkKCkgfHwgZmFsc2UsXG4gICAgXG4gICAgLy8gU2VydmljZSByZWZlcmVuY2UgKGZvciBhZHZhbmNlZCB1c2FnZSlcbiAgICBzZXJ2aWNlOiBzZXJ2aWNlUmVmLmN1cnJlbnRcbiAgfVxufSJdLCJ2ZXJzaW9uIjozfQ==